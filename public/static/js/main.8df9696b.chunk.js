(this.webpackJsonpshop_front=this.webpackJsonpshop_front||[]).push([[0],{124:function(e,t,c){},172:function(e,t,c){},173:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(0),r=c.n(n),s=c(11),i=c.n(s),o=c(26),d=c(47),l=c(39),u="UPDATE_PRODUCTS",j="UPDATE_PAGES",h={products:[],pages:1},p=Object(d.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var c=t.payload.products;return Object(l.a)(Object(l.a)({},e),{},{products:c});case j:var a=t.payload.pages;return Object(l.a)(Object(l.a)({},e),{},{pages:a});default:return e}}}),b=Object(d.c)(p),m=(c(124),c(34)),O=c(13),x=c(14),f=c(15),g=c(21),v=c(20),y=c(219),_=c(220),k=c(221),N=c(222),w=c(216),P=c(235),C=c(223),L=c(224),S=c(225),E=c(226),B=c(233),I=function(e){return{type:u,payload:{products:e}}},U=function(e){return{type:j,payload:{pages:e}}};function A(e){return"".concat("https://super-amazing-shop.herokuapp.com").concat(e)}var T=function(){function e(){Object(x.a)(this,e)}return Object(f.a)(e,[{key:"getListByParams",value:function(e){return this.getList(e.search,e.page,e.filter,e.price_from,e.price_to,e.category)}},{key:"getList",value:function(e,t,c,a,n,r){return fetch(A("/products?q=".concat(e,"&p=").concat(t,"&f=").concat(c,"&pr_f=").concat(a,"&pr_t=").concat(n,"&c=").concat(r))).then((function(e){return e.json()}))}},{key:"getProduct",value:function(e){return fetch(A("/product?name=".concat(e))).then((function(e){return e.json()}))}}]),e}();function z(){return{search:document.getElementById("search_complete").value,page:1,filter:J(),price_from:M(),price_to:F(),category:D()}}function F(){try{return document.getElementById("price_to").value}catch(e){return""}}function M(){try{return document.getElementById("price_from").value}catch(e){return""}}function D(){try{return document.getElementsByClassName("checked_category")[0].id}catch(e){return""}}function J(){try{return document.getElementById("products_select").innerHTML}catch(e){return""}}var Z=Object(o.b)((function(e){return{pages:e.products.pages,products:e.products.products}}),{updateProducts:I,updatePages:U})((function(e){return Object(a.jsx)(B.a,{id:"search_complete",options:e.products,getOptionLabel:function(e){return e.name},style:{width:250},clearOnBlur:!1,onInputChange:function(t,c){!function(t){var c=z();c.search=t,(new T).getListByParams(c).then((function(t){var c,a;c=t.products,a=t.pages,e.updateProducts(c),e.updatePages(a)}))}(c)},renderInput:function(e){return Object(a.jsx)(P.a,Object(l.a)(Object(l.a)({},e),{},{label:"Search",variant:"filled",id:"search_input"}))}})})),G=function(e){Object(g.a)(c,e);var t=Object(v.a)(c);function c(){return Object(x.a)(this,c),t.apply(this,arguments)}return Object(f.a)(c,[{key:"render",value:function(){return Object(a.jsx)(y.a,{position:"static",children:Object(a.jsx)(_.a,{className:"nav_cont",children:Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsxs)(k.a,{item:!0,xs:3,md:2,lg:5,className:"header_item",children:[" ",Object(a.jsx)("h2",{children:"Let it be shop"})]}),Object(a.jsx)(k.a,{item:!0,xs:9,md:4,lg:3,className:"header_item",children:Object(a.jsx)(Z,{})}),Object(a.jsx)(k.a,{item:!0,xs:6,md:3,lg:2,className:"header_item",children:Object(a.jsx)("h4",{children:"login as blabla"})}),Object(a.jsx)(k.a,{item:!0,xs:6,md:3,lg:2,className:"header_item",children:this.renderIfAuth(!0)})]})})})}},{key:"renderIfAuth",value:function(e){return e?Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(m.b,{to:"/profile",children:Object(a.jsx)(C.a,{})})}),"\xa0\xa0",Object(a.jsx)(w.a,{children:Object(a.jsx)(m.b,{to:"/home",children:Object(a.jsx)(L.a,{})})}),"\xa0\xa0",Object(a.jsx)(w.a,{children:Object(a.jsx)(m.b,{to:"/#",children:Object(a.jsx)(S.a,{})})})]}):Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(N.a,{variant:"contained",color:"primary",children:Object(a.jsx)(m.b,{to:"/sign_up",children:"Sign up"})}),"\xa0\xa0",Object(a.jsx)(N.a,{variant:"contained",color:"primary",children:Object(a.jsx)(m.b,{to:"/log_in",children:"Log in"})})]})}},{key:"searchForm",value:function(){return Object(a.jsx)("span",{className:"search_cont",children:Object(a.jsx)(P.a,{label:Object(a.jsx)(E.a,{id:"search_i"}),variant:"filled",id:"search_input"})})}}]),c}(r.a.Component),H=c(227),W=c(228),$=c(229),q=function(e){Object(g.a)(c,e);var t=Object(v.a)(c);function c(){return Object(x.a)(this,c),t.apply(this,arguments)}return Object(f.a)(c,[{key:"render",value:function(){return Object(a.jsx)(y.a,{position:"static",className:"footer",children:Object(a.jsx)(_.a,{className:"nav_cont footer_c ",children:Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsxs)(k.a,{item:!0,xs:6,md:3,lg:3,className:"header_item",children:[" ",Object(a.jsx)("h4",{children:"Let it be shop"})]}),Object(a.jsx)(k.a,{item:!0,xs:6,md:3,lg:3,className:"header_item",children:Object(a.jsxs)("h4",{children:[Object(a.jsx)(H.a,{className:"footer_i"})," ",Object(a.jsx)("span",{className:"footer_t",children:"333 333 3333"})]})}),Object(a.jsx)(k.a,{item:!0,xs:6,md:3,lg:3,className:"header_item",children:Object(a.jsxs)("h4",{children:[Object(a.jsx)(W.a,{className:"footer_i"})," ",Object(a.jsx)("span",{className:"footer_t",children:"blabla@gmail.com"})]})}),Object(a.jsx)(k.a,{item:!0,xs:6,md:3,lg:3,className:"header_item",children:Object(a.jsxs)("h4",{children:[Object(a.jsx)($.a,{className:"footer_i"}),Object(a.jsx)("span",{className:"footer_t",children:" Ukraine, Cherkasy, 2020"})]})})]})})})}}]),c}(r.a.Component),R=c(65),V=c.n(R),Y=function(){function e(){Object(x.a)(this,e)}return Object(f.a)(e,[{key:"createUserFetch",value:function(e){return fetch(A("/api/auth"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:e.email,password:e.password})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}},{key:"createSessionFetch",value:function(e){return fetch(A("/api/auth"),{method:"PUT",body:JSON.stringify({email:e.email,password:e.password})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}},{key:"userCoockieSave",value:function(e){V.a.save("token",e,{path:"/"})}},{key:"userCoockiePresent",value:function(){return V.a.load("token")}},{key:"deleteSession",value:function(){V.a.remove("token",{path:"/"})}}]),e}(),K=c(174),Q=function(e){Object(g.a)(c,e);var t=Object(v.a)(c);function c(e){var a;return Object(x.a)(this,c),(a=t.call(this,e)).state={error:null,isLoaded:!1},a}return Object(f.a)(c,[{key:"readUser",value:function(){return{email:document.getElementById("email").value,password:document.getElementById("password").value,password_confirmation:document.getElementById("password_confirm").value,confirm_success_url:"#"}}},{key:"createUser",value:function(e){var t=this;if(null!=e.password){var c=new Y;c.createUserFetch(e).then((function(e){e&&e.error?t.handleError(e):(console.log(e),c.userCoockieSave(e.token))}))}}},{key:"handleError",value:function(e){alert(e.error)}},{key:"render",value:function(){var e=this;return Object(a.jsx)(K.a,{elevation:3,className:"create_cont",children:Object(a.jsxs)("div",{className:"login_cont",children:[Object(a.jsx)("p",{children:Object(a.jsx)(P.a,{label:"Email:",variant:"outlined",id:"email"})}),Object(a.jsx)("p",{children:Object(a.jsx)(P.a,{label:"Password:",variant:"outlined",type:"password",id:"password"})}),Object(a.jsx)("p",{children:Object(a.jsx)(P.a,{label:"Password confirm:",variant:"outlined",type:"password",id:"password_confirm"})}),Object(a.jsx)("p",{children:Object(a.jsx)(N.a,{variant:"contained",color:"primary",id:"sign_in",onClick:function(){e.createUser(e.readUser())},children:" Sign up "})})]})})}}]),c}(r.a.Component),X=function(e){Object(g.a)(c,e);var t=Object(v.a)(c);function c(e){var a;return Object(x.a)(this,c),(a=t.call(this,e)).state={error:null,isLoaded:!1},a}return Object(f.a)(c,[{key:"readUser",value:function(){return{email:document.getElementById("email").value,password:document.getElementById("password").value}}},{key:"createSession",value:function(e){var t=this,c=new Y;c.createSessionFetch(e).then((function(e){e.error?t.handleError(e):(console.log(e),c.userCoockieSave(e.token))}))}},{key:"handleError",value:function(e){alert(e.error)}},{key:"render",value:function(){var e=this;return Object(a.jsx)(K.a,{elevation:3,className:"create_cont",children:Object(a.jsxs)("div",{className:"login_cont",children:[Object(a.jsx)("p",{children:Object(a.jsx)(P.a,{label:"Email:",variant:"outlined",id:"email"})}),Object(a.jsx)("p",{children:Object(a.jsx)(P.a,{label:"Password:",variant:"outlined",type:"password",id:"password"})}),Object(a.jsx)("p",{children:Object(a.jsx)(N.a,{variant:"contained",color:"primary",id:"sign_in",onClick:function(){e.createSession(e.readUser())},children:" log in "})})]})})}}]),c}(r.a.Component),ee=function(e){Object(g.a)(c,e);var t=Object(v.a)(c);function c(){return Object(x.a)(this,c),t.apply(this,arguments)}return Object(f.a)(c,[{key:"render",value:function(){return console.log(this.props.isClick),Object(a.jsx)(K.a,{elevation:3,className:"profile_cont",children:Object(a.jsxs)("div",{className:"profile_info inl left",children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"./ava.png",width:"100px",alt:""})}),Object(a.jsx)("div",{children:"First name"}),Object(a.jsx)("div",{children:"Last name"})]})})}}]),c}(r.a.Component),te=function(){function e(){Object(x.a)(this,e)}return Object(f.a)(e,[{key:"getList",value:function(){return fetch(A("/categories")).then((function(e){return e.json()}))}}]),e}(),ce=c(230);var ae=Object(o.b)((function(e){return{pages:e.products.pages,products:e.products.products}}),{updateProducts:I,updatePages:U})((function(e){return Object(a.jsxs)("div",{id:"categories",children:[Object(a.jsx)("div",{className:"category_container, checked_category",id:"undefined",children:Object(a.jsxs)(w.a,{color:"primary",className:"category_btn",onClick:function(){t("undefined")},children:[Object(a.jsx)(ce.a,{className:"category_icon",fontSize:"large"}),"All categories"]})}),e.categories.map((function(e){return Object(a.jsx)("div",{className:"category_container",id:"".concat(e.id),children:Object(a.jsxs)(w.a,{color:"primary",className:"category_btn",onClick:function(){t(e.id)},children:[Object(a.jsx)(ce.a,{className:"category_icon",fontSize:"large"}),e.name]})},e.id)}))]});function t(t){var c=document.getElementsByClassName("checked_category");[].forEach.call(c,(function(e){e.classList.remove("checked_category")})),document.getElementById("".concat(t)).classList.add("checked_category");var a=z();a.category=t,(new T).getListByParams(a).then((function(t){var c,a;c=t.products,a=t.pages,e.updateProducts(c),e.updatePages(a)}))}})),ne=c(64);var re=Object(o.b)((function(e){return{products:e.products.products}}),{updateProducts:I})((function(e){var t,c=Object(n.useState)(null),r=Object(ne.a)(c,2),s=r[0],i=r[1];return s?(t=s.url_name,Object(a.jsx)(O.a,{to:"/product/".concat(t)})):Object(a.jsx)("div",{id:"products",children:e.products.map((function(e){return Object(a.jsx)("div",{onClick:function(){i(e)},className:"product_block",children:Object(a.jsxs)(K.a,{className:"product_container",children:[Object(a.jsx)("div",{className:"product_attr",children:Object(a.jsx)("b",{children:e.name})}),Object(a.jsx)("div",{className:"product_attr",children:Object(a.jsx)("i",{children:e.category})}),Object(a.jsx)("div",{className:"product_attr",children:Object(a.jsx)("img",{src:"./ava.jpg",width:"100px",alt:""})}),Object(a.jsx)("div",{className:"product_attr",children:Object(a.jsxs)("h3",{children:["price: ",e.price," $"]})})]})},e.id)}))})})),se=c(234),ie=c(232),oe=c(237);var de=Object(o.b)((function(e){return{pages:e.products.pages,products:e.products.products}}),{updateProducts:I,updatePages:U})((function(e){return Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(k.a,{item:!0,xs:12,md:4,lg:6}),Object(a.jsxs)(k.a,{item:!0,xs:4,md:3,lg:2,children:[Object(a.jsx)(P.a,{className:"price",id:"price_from",label:"price from:",variant:"outlined",style:{width:100}}),Object(a.jsx)(P.a,{className:"price",id:"price_to",label:"price to:",variant:"outlined",style:{width:100}})]}),Object(a.jsx)(k.a,{item:!0,xs:5,md:4,lg:2,children:Object(a.jsxs)(ie.a,{defaultValue:"default",id:"products_select",size:"small",variant:"outlined",style:{width:150},onChange:function(e){t(e.target.value)},children:[Object(a.jsx)(oe.a,{value:"default",children:" default sort"}),Object(a.jsx)(oe.a,{value:"A...Z",children:"A...Z"}),Object(a.jsx)(oe.a,{value:"Z...A",children:"Z...A"}),Object(a.jsx)(oe.a,{value:"cheap...expensive",className:"blue",children:"cheap...expensive"}),Object(a.jsx)(oe.a,{value:"expensive...cheap",className:"purpure",children:"expensive...cheap"})]})}),Object(a.jsx)(k.a,{item:!0,xs:3,md:1,lg:1,children:Object(a.jsx)(N.a,{variant:"contained",color:"primary",onClick:function(){t(document.getElementById("products_select").innerHTML)},style:{height:56},children:Object(a.jsx)("b",{children:"Filter"})})})]});function t(t){var c=z();c.filter=t,(new T).getListByParams(c).then((function(t){var c,a;c=t.products,a=t.pages,e.updateProducts(c),e.updatePages(a)}))}})),le=function(e){Object(g.a)(c,e);var t=Object(v.a)(c);function c(e){var a;return Object(x.a)(this,c),(a=t.call(this,e)).state={error:null,isLoaded:!0,categories:[]},a}return Object(f.a)(c,[{key:"componentDidMount",value:function(){this.loadListOfProducts({search:"",page:1,filter:"",price_from:"",price_to:"",category:""}),this.loadListOfCategories()}},{key:"loadListOfProducts",value:function(e){var t=this;(new T).getListByParams(e).then((function(e){t.dispatchUpdateState(e.products,e.pages),t.setState({isLoaded:!0})}))}},{key:"loadListOfCategories",value:function(){var e=this;(new te).getList().then((function(t){e.setState({isLoaded:!0,categories:t.categories})}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{id:"home_cont",children:[Object(a.jsx)(de,{}),Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(k.a,{item:!0,xs:4,sm:2,className:"categories_grid",children:Object(a.jsx)(ae,{categories:this.state.categories})}),Object(a.jsx)(k.a,{item:!0,xs:8,sm:10,children:0!==this.props.products.length?Object(a.jsx)(re,{}):Object(a.jsx)("div",{children:"No products found"})})]}),Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(k.a,{item:!0,xs:1,sm:5}),Object(a.jsx)(k.a,{item:!0,xs:11,sm:4,className:"page_grid",children:Object(a.jsx)(se.a,{count:this.props.pages,variant:"outlined",shape:"rounded",id:"paginator",onChange:function(t,c){var a=z();a.page=c,e.loadListOfProducts(a)}})})]})]})}},{key:"dispatchUpdateState",value:function(e,t){this.props.updateProducts(e),this.props.updatePages(t)}}]),c}(r.a.Component),ue=Object(o.b)((function(e){return{pages:e.products.pages,products:e.products.products}}),{updateProducts:I,updatePages:U})(le),je=c(231),he=c(37),pe=c(238),be=c(84),me=c.n(be),Oe=c(85),xe=c.n(Oe),fe=c(102),ge=c.n(fe),ve=c(103),ye=Object(ve.autoPlay)(ge.a),_e=[{imgPath:"../../sale.png"},{imgPath:"../../free.jpg"},{imgPath:"../../gift.jpg"}],ke=Object(je.a)((function(e){return{root:{maxWidth:1500,flexGrow:1},header:{display:"flex",alignItems:"center",height:50,paddingLeft:e.spacing(4),backgroundColor:e.palette.background.default},img:{height:300,display:"block",maxWidth:1500,overflow:"hidden",width:"100%"}}}));var Ne=function(){var e=ke(),t=Object(he.a)(),c=r.a.useState(0),n=Object(ne.a)(c,2),s=n[0],i=n[1],o=_e.length,d=0;return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(ye,{className:"image_st",axis:"rtl"===t.direction?"x-reverse":"x",index:s,onChangeIndex:function(e){i(e)},enableMouseEvents:!0,children:_e.map((function(t,c){return Object(a.jsx)("div",{children:Math.abs(s-c)<=2?Object(a.jsx)("img",{className:e.img,src:t.imgPath,alt:t.label}):null},d+=1)}))}),Object(a.jsx)(pe.a,{className:"stepper",steps:o,position:"static",variant:"text",activeStep:s,nextButton:Object(a.jsxs)(N.a,{size:"small",onClick:function(){i((function(e){return e+1}))},disabled:s===o-1,children:["Next","rtl"===t.direction?Object(a.jsx)(me.a,{}):Object(a.jsx)(xe.a,{})]}),backButton:Object(a.jsxs)(N.a,{size:"small",onClick:function(){i((function(e){return e-1}))},disabled:0===s,children:["rtl"===t.direction?Object(a.jsx)(xe.a,{}):Object(a.jsx)(me.a,{}),"Back"]})})]})},we=function(e){Object(g.a)(c,e);var t=Object(v.a)(c);function c(e){var a;return Object(x.a)(this,c),(a=t.call(this,e)).state={product:[]},a}return Object(f.a)(c,[{key:"componentDidMount",value:function(){this.loadProduct()}},{key:"loadProduct",value:function(){var e=this;(new T).getProduct(this.props.match.params.url_name).then((function(t){e.setState({product:t.product})}))}},{key:"render",value:function(){var e=this.state.product;return Object(a.jsxs)("div",{children:[Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(k.a,{item:!0,xs:12,sm:2,md:12,lg:2}),Object(a.jsx)(k.a,{item:!0,xs:12,sm:8,md:8,lg:8,children:Object(a.jsx)(Ne,{})})]}),Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(k.a,{item:!0,xs:12,sm:2,md:12,lg:2}),Object(a.jsx)(k.a,{item:!0,xs:12,sm:4,md:4,lg:4,children:Object(a.jsx)(K.a,{className:"show_product_paper",children:Object(a.jsx)("div",{className:"product_show_img show",children:Object(a.jsx)("img",{src:"../../ava.jpg",width:"200px"})})})}),Object(a.jsx)(k.a,{item:!0,xs:12,sm:4,md:8,lg:4,children:Object(a.jsxs)(K.a,{className:"show_product_paper",children:[Object(a.jsxs)("div",{className:"product_show_name show",children:[Object(a.jsx)("b",{children:"name: "})," ",e.name]}),Object(a.jsxs)("div",{className:"product_show_description show",children:[Object(a.jsx)("b",{children:"description: "}),e.description]}),Object(a.jsxs)("div",{className:"product_show_country show",children:[Object(a.jsx)("b",{children:"country: "}),e.country]}),Object(a.jsxs)("h2",{className:"product_show_price show",style:{color:"green"},children:[Object(a.jsx)("b",{children:"price: "}),e.price," $"]}),Object(a.jsxs)(w.a,{variant:"contained",className:"category_btn",style:{color:"green"},children:[Object(a.jsx)(S.a,{fontSize:"large"}),"BUY"]})]})})]})]})}}]),c}(r.a.Component);var Pe=function(){return Object(a.jsxs)("div",{id:"main",children:[Object(a.jsxs)(m.a,{children:[Object(a.jsx)(G,{}),Object(a.jsxs)(O.d,{children:[Object(a.jsx)(O.b,{path:"/sign_up",component:Q}),Object(a.jsx)(O.b,{path:"/log_in",component:X}),Object(a.jsx)(O.b,{path:"/profile",component:ee}),Object(a.jsx)(O.b,{path:"/product/:url_name",component:we}),Object(a.jsx)(O.b,{path:"/home",component:ue}),Object(a.jsx)(O.b,{path:"",component:ue})]})]}),Object(a.jsx)(q,{})]})},Ce=(c(172),document.getElementById("root"));i.a.render(Object(a.jsx)(o.a,{store:b,children:Object(a.jsx)(Pe,{})}),Ce)}},[[173,1,2]]]);
//# sourceMappingURL=main.8df9696b.chunk.js.map