{"version":3,"sources":["atoms/shopAtoms.js","components/order.js","services/orderApi.js","services/productsApi.js","components/autocomplete.js","components/cart.js","components/header.js","components/footer.js","services/userApi.js","components/profile.js","services/categoriesApi.js","components/categoriesPopover.js","components/categoriesList.js","components/productsList.js","components/filter.js","components/home.js","components/promotionStepper.js","services/commentsApi.js","components/addNewComment.js","components/editComment.js","components/showAllComments.js","components/showProduct.js","App.js","index.js","services/baseUrl.js"],"names":["email","cookie","load","cart","productsAtom","atom","pagesAtom","categoriesAtom","paramsAtom","search","page","filter","price_from","price_to","category","subcategory","emailAtom","cartAtom","Order","useAtom","first_name","useRef","last_name","phone","city","post_office","className","onSubmit","e","preventDefault","products","Object","values","map","p","product_id","id","number","count","global","info","current","value","console","log","JSON","stringify","OrderApi","postProductsIds","then","result","remove","path","window","location","replace","next","makeOrder","label","variant","inputProps","ref","required","type","color","ProductsApi","fetch","fullPath","headers","Accept","response","json","catch","err","this","getList","q","f","pr_f","pr_t","c","sc","res","name","SearchComp","props","setProducts","setPages","params","setParams","Autocomplete","options","getOptionLabel","option","style","width","clearOnBlur","onInputChange","v","getListByParams","pages","dispatchUpdateState","loadListOfProducts","renderInput","TextField","Cart","setCart","items","total","item","getCartNumber","popupId","popupState","IconButton","bindTrigger","float","ShoppingCart","Popover","bindPopover","anchorOrigin","vertical","horizontal","transformOrigin","Box","renderCart","mapCart","length","Fragment","product","src","alt","price","onClick","updateCart","Remove","Add","getTotal","Button","to","textDecoration","diff","currentCart","parse","newCount","save","Header","setEmail","useEffect","setTimeout","emailFromCookie","AppBar","position","Toolbar","Grid","container","xs","md","lg","renderIfAuth","Home","AccountBox","marginTop","href","Footer","Phone","Email","LocationOn","React","Component","UserApi","Profile","Paper","elevation","deleteSession","push","useStyles","makeStyles","theme","typography","padding","spacing","CategoriesPopover","classes","useState","anchorEl","setAnchorEl","open","Boolean","undefined","aria-describedby","event","currentTarget","ArrowRight","onClose","Typography","subcategories","cursor","elemsCategory","document","getElementsByClassName","forEach","call","el","classList","elemsSubcategory","getElementById","add","subcategoryChoose","CategoriesList","categories","categoryChoose","Assignment","fontSize","elems","ProductList","url_name","showProduct","setShowProduct","im","image","url","FilterProducts","Select","defaultValue","size","onChange","target","MenuItem","innerHTML","filter_on_btn","height","HomePage","setCategories","CategoriesApi","message","URLSearchParams","useLocation","get","user","token","sm","Pagination","shape","AutoPlaySwipeableViews","autoPlay","SwipeableViews","tutorialSteps","imgPath","root","maxWidth","flexGrow","header","display","alignItems","paddingLeft","backgroundColor","palette","background","default","img","overflow","PromotionStepper","useTheme","activeStep","setActiveStep","maxSteps","key","axis","direction","index","onChangeIndex","step","enableMouseEvents","Math","abs","MobileStepper","steps","nextButton","prevActiveStep","disabled","backButton","CommentsApi","comment","AddNewComment","setValue","textAlign","component","mb","borderColor","Rating","newValue","TextareaAutosize","aria-label","margin","rowsMin","placeholder","body","rating","createComment","loadProduct","createNewComment","EditComment","updateComment","setEditable","editComment","ShowAllComments","editable","newComment","comments","readOnly","renderCommentsButtons","Edit","deleteComment","Delete","ShowProduct","setProduct","setComments","setNewComment","getProduct","match","new_comment","paddingTop","description","country","addToCart","App","rootElement","ReactDOM","render"],"mappings":"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","file":"static/js/main.5db99734.chunk.js","sourcesContent":["import { atom } from 'jotai'\nimport cookie from 'react-cookies'\n\nconst email = cookie.load('email')\nconst cart = cookie.load('cart') || {}\n\nexport const productsAtom = atom([])\nexport const pagesAtom = atom(1)\nexport const categoriesAtom = atom([])\nexport const paramsAtom = atom({search: '', page: 1, filter: '', price_from: '', price_to: '', category: '', subcategory: ''})\nexport const emailAtom = atom(email)\nexport const cartAtom = atom(cart)","import React from 'react';\nimport {useRef} from 'react';\nimport { useAtom } from 'jotai'\nimport {cartAtom} from '../atoms/shopAtoms'\nimport cookie from 'react-cookies'\nimport {TextField, Button, Paper} from '@material-ui/core';\nimport OrderApi from '../services/orderApi';\n\nexport default function Order() {\n  const [cart, setCart] = useAtom(cartAtom)\n  const first_name = useRef(null);\n  const last_name = useRef(null);\n  const phone = useRef(null);\n  const email = useRef(null);\n  const city = useRef(null);\n  const post_office = useRef(null);\n  return(\n    <Paper className='order_cont'>\n      <form onSubmit={(e)=> {makeOrder(e)}}>\n        <h1 className='order_headers'>Checkout</h1>\n        <div className='order_info'>\n          <TextField label=\"First name\" variant='outlined' inputProps={ { ref: first_name } } required/>\n        </div>\n        <div className='order_info'>\n          <TextField label=\"Last name\"variant='outlined'  inputProps={ { ref: last_name } }required/>\n        </div>\n        <div className='order_info'>\n          <TextField label=\"City\" variant='outlined'  inputProps={ { ref: city } }required />\n        </div>\n        <div className='order_info'>\n          <TextField label=\"Phone\"variant='outlined'  inputProps={ { ref: phone } }required/>\n        </div>\n        <div className='order_info'>\n          <TextField label=\"Email\"variant='outlined' type='email'  inputProps={ { ref: email } }required/>\n        </div>\n        <div className='order_info'>\n          <TextField label=\"New Post office number\" variant='outlined' inputProps={ { ref: post_office } }required/>\n        </div>\n        <div className='order_info'>\n          <Button variant='contained' color='primary' type=\"submit\" >Confirm order</Button>\n        </div>\n      </form>\n    </Paper>\n  )\n  function makeOrder(e){\n    e.preventDefault();\n    let mapCart = (Object.values(cart));\n    let products = mapCart.map(p => { return { product_id: p.id, number: p.count } })\n    global.email = email;\n\n    const info = {\n      products: products,\n      email: email.current.value,\n      phone: phone.current.value,\n      first_name: first_name.current.value,\n      last_name: last_name.current.value,\n      city: city.current.value,\n      post_office: post_office.current.value\n    }\n    console.log('info; ', JSON.stringify(info))\n    new OrderApi().postProductsIds(info).then(\n      (result) => {\n        console.log(result)  \n        cookie.remove('cart', { path: '/' })\n        window.location.replace(result.next);        \n      },\n    )\n  }\n}","import { fullPath } from \"./baseUrl\";\n\nexport default class ProductsApi{\n\n  postProductsIds(info){\n    return fetch(fullPath(\"/order?message=Success\"),{\n      \"method\": \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n         Accept: 'application/json'\n      },\n      \"body\": JSON.stringify({\n        products: info.products,\n        email: info.email,\n        phone: info.phone,\n        first_name: info.first_name,\n        last_name: info.last_name,\n        post_office: info.post_office,\n        city: info.city\n        \n      })\n     })\n     .then(response => response.json())\n     .catch(err => {\n       console.log(err);\n     })\n  }\n}","import { fullPath } from \"./baseUrl\";\n\nexport default class ProductsApi{\n  getListByParams(p) {\n    return this.getList(p.search, p.page, p.filter, p.price_from, p.price_to, p.category, p.subcategory)\n  }\n\n  getList(q, p, f, pr_f, pr_t,c, sc){\n    return fetch(fullPath(`/products?q=${q}&p=${p}&f=${f}&pr_f=${pr_f}&pr_t=${pr_t}&c=${c}&sc=${sc}`))\n    .then(res => res.json())\n  }\n\n  getProduct(name){\n    return fetch(fullPath(`/product?name=${name}`))\n    .then(res => res.json())\n  }\n\n}\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport ProductsApi from '../services/productsApi';\nimport { useAtom } from 'jotai'\nimport {productsAtom, pagesAtom, categoriesAtom, paramsAtom } from '../atoms/shopAtoms'\n\nexport default function SearchComp(props) {\n  const [products, setProducts] = useAtom(productsAtom)\n  const [pages, setPages] = useAtom(pagesAtom)\n  const [params, setParams] = useAtom(paramsAtom)\n  return (\n    <Autocomplete\n      id=\"search_complete\"\n      options={products}\n      getOptionLabel={(option) => option.name}\n      style={{ width: 250 }}\n      clearOnBlur={false}\n      onInputChange={(e, v) => {loadListOfProducts(v)}}\n      renderInput={(params) => <TextField {...params}  label=\"Search\" variant=\"filled\" id='search_input' />}\n    />\n  );\n\n  function dispatchUpdateState(products, pages){\n    setProducts(products)\n    setPages(pages)\n  }\n\n  function loadListOfProducts(v){    \n    params.search = v;\n    setParams(params)\n    new ProductsApi().getListByParams(params).then(\n      (result) => {\n        dispatchUpdateState(result.products, result.pages)\n      },\n    )\n  }\n}\n","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport Box from '@material-ui/core/Box';\nimport {Button, IconButton, Paper} from '@material-ui/core';\nimport Popover from '@material-ui/core/Popover';\nimport PopupState, { bindTrigger, bindPopover } from 'material-ui-popup-state';\nimport {ShoppingCart, Add, Remove} from '@material-ui/icons';\nimport { useAtom } from 'jotai'\nimport {cartAtom} from '../atoms/shopAtoms'\nimport cookie from 'react-cookies'\n\nexport default function Cart() {\n  const [cart, setCart] = useAtom(cartAtom)\n  console.log('cart render', cart)\n  const number = getCartNumber()  \n\n  return (\n    <PopupState variant=\"popover\" popupId=\"cart_popup\">\n      {(popupState) => (\n        <div>\n          <IconButton {...bindTrigger(popupState)} style={{color: 'white', float: 'left'}}>\n            < ShoppingCart/>\n            { number > 0 ? <span className=\"cartC\">{number}</span> : null }\n          </IconButton>\n          <Popover\n            {...bindPopover(popupState)}\n            anchorOrigin={{\n              vertical: 'bottom',\n              horizontal: -200,\n            }}\n            transformOrigin={{\n              vertical: 'top',\n              horizontal: 'center',\n            }}\n          >\n            <Box p={6}>\n              <div>\n                  Cart\n                  <hr/>                  \n                  {renderCart()}\n              </div>\n            </Box>\n          </Popover>\n        </div>\n      )}\n    </PopupState>\n  );\n  function renderCart(){  \n    let mapCart = (Object.values(cart));\n    console.log(mapCart)\n\n    if(mapCart.length != 0){\n      console.log(cart)\n      return(\n        <React.Fragment>\n            {mapCart.map(product =>\n              <div key={product.id}>\n                <img src='/ava.jpg' alt='' width='50'/><br/><br/>\n                <div>{product.name}</div>\n                <div><b>{product.price} $</b></div>\n                <IconButton style={{color: 'red'}}  onClick={ ()=> { updateCart(product, -1) } } >\n                  < Remove/>\n                </IconButton>\n                  <span><b>{product.count}</b></span>\n                <IconButton style={{color: 'green'}} onClick={ ()=> { updateCart(product, 1) } }>\n                  <Add/>\n               </IconButton>         \n                <hr/>\n              </div>)}\n            <br/>\n            <div>Total: { getTotal() }$</div><br/>  \n            <Button color='primary' variant='contained'> \n             <Link to=\"/order\" style={{color:'white', textDecoration:'none'}}>Make an order</Link>\n            </Button>          \n        </React.Fragment>\n      )\n    }\n    else{\n      return(\n        <React.Fragment>\n          <img src={'/sad-cart.png'} alt='' width='200'/>\n          <hr/>\n          Your cart is empty now. \n          But you can fix it)\n        </React.Fragment>\n      )\n    }\n  }\n\n  function updateCart(product, diff){\n    console.log(product)\n    let currentCart = JSON.parse(JSON.stringify(cart))\n    const newCount = currentCart[product.id].count + diff;\n    if(newCount > 0) {\n      currentCart[product.id].count = newCount\n    } else {\n      delete currentCart[product.id]\n    }\n    \n    console.log(currentCart)  \n    cookie.save('cart', currentCart, { path: '/' })\n    setCart(currentCart)  \n  } \n\n  function getTotal() {\n    const items = Object.values(cart);\n    let total = 0;\n\n    for(let item of items) {\n      total += (item.price * item.count)\n    }\n    return total;\n  }\n\n  function getCartNumber() {\n    const items = Object.values(cart);\n    let total = 0;\n\n    for(let item of items) {\n      total += (item.count)\n    }\n    return total;\n  }\n}\n","import {AppBar,Toolbar, Grid, IconButton} from '@material-ui/core';\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport {Home, AccountBox } from '@material-ui/icons';\nimport SearchComp from './autocomplete';\nimport Cart from './cart';\nimport cookie from 'react-cookies'\nimport { useAtom } from 'jotai'\nimport {emailAtom } from '../atoms/shopAtoms'\nimport { fullPath } from '../services/baseUrl';\nimport { useEffect } from 'react';\n\nexport default function Header(){\n  const [email, setEmail] = useAtom(emailAtom)\n\n  useEffect(()=>{\n    setTimeout(()=>{\n      const emailFromCookie = cookie.load('email')\n      if(emailFromCookie && !email) setEmail(emailFromCookie)\n    }, 1000)\n  }, [])\n\n  return(\n    <AppBar position=\"static\"> \n        <Toolbar className='nav_cont'> \n         <Grid container>\n            <Grid item xs={3} md={2} lg={5} className='header_item'> <h2>Let it be shop</h2></Grid> \n            <Grid item xs={9} md={4} lg={3} className='header_item'><SearchComp/></Grid> \n            <Grid item xs={5} md={3} lg={2} className='header_item'><h4>{email}</h4></Grid>\n            <Grid item xs={7} md={3} lg={2} className='header_item'>{ renderIcons() }</Grid> \n          </Grid>\n        </Toolbar>\n   </AppBar>\n  )\n \n function renderIcons(){    \n    return(\n          <div className='header'>   \n            <Cart/>\n            &nbsp;&nbsp;          \n              {renderIfAuth()}\n            &nbsp;&nbsp;\n            <IconButton><Link to=\"/home\"><Home/></Link></IconButton>\n          </div>\n  )}\n\n  function renderIfAuth(){\n    const token = cookie.load('token')\n    if(token){\n      return(\n        <IconButton> \n          <Link to=\"/profile\">\n            <AccountBox style={{color:'white', marginTop: '-5px'}} />\n          </Link>\n        </IconButton>\n    )}\n    else{\n      return(\n        <IconButton>\n          <a href={fullPath('/users/sign_in')} > <AccountBox/></a>\n        </IconButton>\n      )\n  }}  \n}","import {AppBar,Toolbar, Grid} from '@material-ui/core';\nimport React from 'react';\nimport {Phone, Email, LocationOn } from '@material-ui/icons';\n\nexport default class Footer extends React.Component {\n render(){\n   return(\n    <AppBar position=\"static\" className=\"footer\" > \n        <Toolbar className='nav_cont footer_c '> \n         <Grid container>\n            <Grid item xs={6} md={3} lg={3} className='header_item'> <h4>Let it be shop</h4></Grid> \n            <Grid item xs={6} md={3} lg={3} className='header_item'>\n              <h4><Phone className='footer_i'/> <span className='footer_t'>333 333 3333</span></h4></Grid> \n            <Grid item xs={6} md={3} lg={3} className='header_item'>\n              <h4><Email className='footer_i'/> <span className='footer_t'>blabla@gmail.com</span></h4></Grid>\n            <Grid item xs={6} md={3} lg={3} className='header_item'><h4>\n              <LocationOn className='footer_i'/><span className='footer_t'> Ukraine, Cherkasy, 2020</span></h4></Grid> \n          </Grid>\n        </Toolbar>\n   </AppBar>\n   )\n}}","import { fullPath } from \"./baseUrl\";\n\nexport default class UserApi {\n\n  deleteSession(){\n    return fetch(fullPath(\"/users/sign_out\"),{\n      \"method\": \"DELETE\",\n      })\n      .catch(err => {\n        console.log(err);\n    });\n  }  \n}\n","import React from 'react'\nimport { Paper, Button} from '@material-ui/core';\nimport cookie from 'react-cookies'\nimport UserApi from '../services/userApi';\nimport { useAtom } from 'jotai'\nimport {emailAtom } from '../atoms/shopAtoms'\nimport { Redirect} from \"react-router-dom\";\n\nexport default function Profile() {  \n  const [email, setEmail] = useAtom(emailAtom)\n  if(email === '' || !email) return <Redirect push to={'/'} />\n  return(      \n    <Paper elevation={3} className='profile_cont'>\n      <div className='profile_info'>\n        <div>{email}</div>\n        <div>History of orders</div>\n        <Button variant='contained' color='secondary' onClick={() => {logOut()}}>LOG OUT</Button>\n      </div>\n    </Paper>  \n  )\n  function logOut(){    \n    new UserApi().deleteSession().then(\n      (result) => {\n        console.log(result) \n        cookie.remove('token', { path: '/' })\n        cookie.remove('email', { path: '/' })\n        setEmail('')         \n    })\n  }\n\n}\n\n","import { fullPath } from \"./baseUrl\";\n\nexport default class ProductsApi{\n  getList(){\n    return fetch(fullPath(`/categories`))\n    .then(res => res.json())\n  }\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Popover from '@material-ui/core/Popover';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport {ArrowRight } from '@material-ui/icons';\nimport { useAtom } from 'jotai'\nimport {productsAtom, pagesAtom, categoriesAtom, paramsAtom } from '../atoms/shopAtoms'\nimport ProductsApi from '../services/productsApi';\n\nconst useStyles = makeStyles((theme) => ({\n  typography: {\n    padding: theme.spacing(2),\n  },\n}));\n\nexport default function CategoriesPopover(props) {\n  const [products, setProducts] = useAtom(productsAtom)\n  const [pages, setPages] = useAtom(pagesAtom)\n  const [categories, setCategories] = useAtom(categoriesAtom)\n  const [params, setParams] = useAtom(paramsAtom)\n\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popover' : undefined;\n  return (\n    <div>\n      <Button aria-describedby={id}  onClick={handleClick}\n      style={{float: 'right', marginTop: '10px'}}>\n       <ArrowRight/>\n      </Button>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        <Typography className={classes.typography}>\n          {props.category.subcategories.map(sc =>\n              <div key={sc} id={sc} style={{color: 'darkblue', cursor: 'pointer'}}>\n                <span onClick={() => {subcategoryChoose(sc)}}>{sc}</span>\n                <hr/>\n              </div>           \n            )}\n        </Typography>\n      </Popover>\n    </div>\n  );\n  function subcategoryChoose(sc){  \n    let elemsCategory = document.getElementsByClassName('checked_category');\n    [].forEach.call(elemsCategory, function(el) {\n      el.classList.remove(\"checked_category\");\n    });\n    let elemsSubcategory = document.getElementsByClassName('checked_subcategory');\n    [].forEach.call(elemsSubcategory, function(el) {\n      el.classList.remove(\"subchecked_category\");\n    });\n    const checked_subcategory = document.getElementById(`${sc}`)\n    checked_subcategory.classList.add('checked_subcategory');\n    //checked_category.parentNode.parentNode.classList.add('checked_category')\n    params.subcategory = sc;\n    setParams(params)\n\n    new ProductsApi().getListByParams(params).then(\n      (result) => {\n        dispatchUpdateState(result.products, result.pages)\n      },\n    )    \n  }\n  function dispatchUpdateState(products, pages){\n    setProducts(products)\n    setPages(pages)\n  }\n}\n","import {Assignment } from '@material-ui/icons';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useAtom } from 'jotai'\nimport {productsAtom, pagesAtom, categoriesAtom, paramsAtom } from '../atoms/shopAtoms'\nimport ProductsApi from '../services/productsApi';\nimport CategoriesPopover from './categoriesPopover';\n\nexport default function CategoriesList() {\n  const [products, setProducts] = useAtom(productsAtom)\n  const [pages, setPages] = useAtom(pagesAtom)\n  const [categories, setCategories] = useAtom(categoriesAtom)\n  const [params, setParams] = useAtom(paramsAtom)\n\n  return(\n    <div id='categories'>\n      <div className=\"category_container, checked_category\" id='undefined'>               \n          <IconButton color='primary' className='category_btn'\n            onClick={() => {categoryChoose('undefined')}} >\n            <Assignment className='category_icon' fontSize='large'/>\n              All categories\n          </IconButton>\n        </div>\n      { categories.map(category =>                \n        <div key={category.id}  className=\"category_container\" id={`${category.id}`} > \n          <CategoriesPopover category={category}/>   \n         <IconButton color='primary' className='category_btn'\n            onClick={() => {categoryChoose(category.id)}} >\n            <Assignment className='category_icon' fontSize='large'/>\n              {category.name}            \n          </IconButton> \n              \n        </div>\n      )}\n    </div>\n    )\n    function categoryChoose(c){\n      let elems = document.getElementsByClassName('checked_category');\n      [].forEach.call(elems, function(el) {\n        el.classList.remove(\"checked_category\");\n      });\n      document.getElementById(`${c}`).classList.add('checked_category');\n\n      params.category = c;\n      setParams(params)\n\n      new ProductsApi().getListByParams(params).then(\n        (result) => {\n          dispatchUpdateState(result.products, result.pages)\n        },\n      )    \n    }\n    function dispatchUpdateState(products, pages){\n      setProducts(products)\n      setPages(pages)\n    }\n}\n","import Paper from '@material-ui/core/Paper';\nimport { Redirect} from \"react-router-dom\";\nimport { useAtom } from 'jotai'\nimport {productsAtom } from '../atoms/shopAtoms'\nimport { useState } from 'react'\n\nexport default function ProductList() {\n  const [showProduct, setShowProduct] = useState(null);\n  const [products, setProducts] = useAtom(productsAtom)\n\n  \n  if(showProduct) {\n    return productRedirect(showProduct.url_name)\n  }\n\n\n\n  return (\n    <div id='products'>\n      { products.map(product =>     {\n          let im = product.image;\n          if(im.url) im = im.url;\n          return (\n            <div onClick={() =>{ setShowProduct(product) }} key={product.id} className=\"product_block\">\n          <Paper className=\"product_container\" >\n              <div className='product_attr'>\n                <b>{product.name}</b>\n              </div>\n              <div className='product_attr' >\n                <i>{product.category}/{product.subcategory}</i>\n              </div >\n              <div className='product_attr' >\n                <img src={im} className='product_image' alt=''/>\n              </div >\n            <div className='product_attr'>\n              <h3>price: {product.price} $</h3>\n            </div >\n        </Paper>  \n      </div> \n          )\n      }           \n              \n      )}\n    </div>\n  )\n  function productRedirect(url_name){  \n    return(\n      <Redirect push to={`/product/${url_name}`}/>\n    )\n  }\n}\n\n  \n","import React from 'react';\nimport { Select, MenuItem, Grid, TextField, Button} from '@material-ui/core';\nimport { useAtom } from 'jotai'\nimport {productsAtom, pagesAtom, categoriesAtom, paramsAtom } from '../atoms/shopAtoms'\nimport ProductsApi from '../services/productsApi';\n\nexport default function FilterProducts() {\n  const [products, setProducts] = useAtom(productsAtom)\n  const [pages, setPages] = useAtom(pagesAtom)\n  const [categories, setCategories] = useAtom(categoriesAtom)\n  const [params, setParams] = useAtom(paramsAtom)\n  return (\n    <Grid container>\n      <Grid item xs={12} md={4} lg={6}></Grid>\n      <Grid item xs={4} md={3} lg={2}>\n      <TextField className=\"price\" id=\"price_from\" label=\"price from:\" variant=\"outlined\"  style={{width: 100}} />\n      <TextField className=\"price\" id=\"price_to\" label=\"price to:\" variant=\"outlined\" style={{width: 100}} />\n      </Grid>\n      <Grid item xs={5} md={4} lg={2}>\n        <Select defaultValue={ \"default\"}\n          id='products_select'\n          size='small'\n          variant={'outlined'}\n          style={{width: 150}}\n          onChange={(e) =>{loadListOfProducts(e.target.value)}}>\n          <MenuItem value={'default'}> default sort</MenuItem>\n          <MenuItem value={'A...Z'}>A...Z</MenuItem>\n          <MenuItem value={'Z...A'}>Z...A</MenuItem>\n          <MenuItem value={'cheap...expensive'} className='blue'>cheap...expensive</MenuItem>\n          <MenuItem value={'expensive...cheap'} className='purpure'>expensive...cheap</MenuItem>\n        </Select>\n        </Grid>\n        <Grid item xs={3} md={1} lg={1}>\n          <Button variant=\"contained\" \n            color='primary'\n            onClick={() => {filter_on_btn()}}\n            style={{height: 56}}>\n            <b>Filter</b> \n          </Button>\n      </Grid>\n    </Grid>\n  );\n  function dispatchUpdateState(products, pages){\n    setProducts(products)\n    setPages(pages)\n  }\n\n  function filter_on_btn(){\n    const filter = document.getElementById('products_select').innerHTML\n    const price_to = document.getElementById('price_to').value\n    const price_from = document.getElementById('price_from').value\n    loadListOfProducts(filter, price_from, price_to) \n  }\n\n  function loadListOfProducts(filter, price_from, price_to){\n    params.filter = filter;\n    params.price_from = price_from;\n    params.price_to = price_to;\n    setParams(params)\n    new ProductsApi().getListByParams(params).then(\n      (result) => {\n        dispatchUpdateState(result.products, result.pages)\n      },\n    )\n  }\n}\n","import {React, useEffect} from 'react'\nimport ProductsApi from '../services/productsApi';\nimport CategoriesApi from '../services/categoriesApi';\nimport {Grid} from '@material-ui/core';\nimport CategoriesList from './categoriesList';\nimport ProductsList from './productsList';\nimport Pagination from '@material-ui/lab/Pagination';\nimport FilterProducts from './filter';\nimport { useAtom } from 'jotai'\nimport {productsAtom, pagesAtom, categoriesAtom, paramsAtom } from '../atoms/shopAtoms'\nimport cookie from 'react-cookies'\nimport { useLocation } from \"react-router-dom\";\n\n\nexport default function HomePage() {\n  const [products, setProducts] = useAtom(productsAtom)\n  const [pages, setPages] = useAtom(pagesAtom)\n  const [categories, setCategories] = useAtom(categoriesAtom)\n  const [params, setParams] = useAtom(paramsAtom)\n\n  useEffect(() => {\n    console.log(products.length)\n    loadListOfProducts()\n    loadListOfCategories()\n  }, [])\n\n  function useQuery() {\n    return new URLSearchParams(useLocation().search);\n  }\n  let query = useQuery();\n  const message = query.get(\"message\")\n\n  function loadListOfProducts(){\n      new ProductsApi().getListByParams(params).then(\n        (result) => {\n          dispatchUpdateState(result.products, result.pages)\n          if (result.user){\n            cookie.save('token', result.user.token, { path: '/' })\n            cookie.save('email', result.user.email, { path: '/' })\n          }\n        },\n      )\n    }\n\n    function loadListOfCategories(){\n      new CategoriesApi().getList().then(\n        (result) => {\n          setCategories(result.categories)          \n        },\n      )\n    }\n\n  function dispatchUpdateState(products, pages){\n    setProducts(products)\n    setPages(pages)\n  }\n\n    return (\n      <div id='home_cont'>     \n        <FilterProducts/>\n          <Grid container >        \n            <Grid item xs={6} sm={2} className='categories_grid'>\n              <CategoriesList/>\n            </Grid>\n            <Grid item xs={6} sm={10}>\n              {message && <p style={{color: 'green'}}><b>{message}</b></p>}  \n              {products !== 0 ? <ProductsList/> : <div>No products found</div>}\n            </Grid>         \n        </Grid>\n        <Grid container > \n          <Grid item xs={1} sm={5}></Grid>\n          <Grid item xs={11} sm={4} className='page_grid'>            \n            <Pagination count={pages} variant=\"outlined\" shape=\"rounded\" id='paginator'\n              onChange={(e, page)=>{                \n                params.page = page;\n                setParams(params)\n                loadListOfProducts(params) \n              }\n            }\n            /> \n          </Grid>\n        </Grid>\n      </div>\n  )\n}\n","import React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport MobileStepper from '@material-ui/core/MobileStepper';\nimport Button from '@material-ui/core/Button';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport SwipeableViews from 'react-swipeable-views';\nimport { autoPlay } from 'react-swipeable-views-utils';\n\nconst AutoPlaySwipeableViews = autoPlay(SwipeableViews);\n\nconst tutorialSteps = [\n  {\n    imgPath:\n      '../../sale.png',\n  },\n  {    \n    imgPath:\n      '../../free.jpg',\n  },\n  {\n    imgPath:\n      '../../gift.jpg',\n  \n  }\n];\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 1500,\n    flexGrow: 1,\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    height: 50,\n    paddingLeft: theme.spacing(4),\n    backgroundColor: theme.palette.background.default,\n  },\n  img: {\n    height: 300,\n    display: 'block',\n    maxWidth: 1500,\n    overflow: 'hidden',\n    width: '100%',    \n  },\n}));\n\nfunction PromotionStepper() {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const maxSteps = tutorialSteps.length;\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const handleStepChange = (step) => {\n    setActiveStep(step);\n  };\n\n  let key = 0;\n  return (\n    <div className={classes.root}>\n      <AutoPlaySwipeableViews className=\"image_st\" axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'} index={activeStep} onChangeIndex={handleStepChange} enableMouseEvents>\n        {tutorialSteps.map((step, index) => (\n          <div key={(key += 1)}>{Math.abs(activeStep - index) <= 2 ? <img className={classes.img} src={step.imgPath} alt={step.label} /> : null}</div>\n        ))}\n      </AutoPlaySwipeableViews>\n      <MobileStepper\n        className=\"stepper\"\n        steps={maxSteps}\n        position=\"static\"\n        variant=\"text\"\n        activeStep={activeStep}\n        nextButton={\n          <Button size=\"small\" onClick={handleNext} disabled={activeStep === maxSteps - 1}>\n            Next\n            {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n          </Button>\n        }\n        backButton={\n          <Button size=\"small\" onClick={handleBack} disabled={activeStep === 0}>\n            {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n            Back\n          </Button>\n        }\n      />\n    </div>\n  );\n}\n\nexport default PromotionStepper;\n","import { fullPath } from \"./baseUrl\";\n\nexport default class CommentsApi{\n  createComment(comment){\n    return fetch(fullPath(`/comments`),{\n      \"method\": \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n         Accept: 'application/json'\n      },\n      \"body\": JSON.stringify(comment)\n     })\n     .then(response => response.json())\n     .catch(err => {\n       console.log(err);\n     });\n  }\n\n  updateComment(comment){\n    return fetch(fullPath(`/comments`),{\n    \"method\": \"PUT\",\n    headers: {\n      'Content-Type': 'application/json',\n       Accept: 'application/json'\n    },\n    \"body\": JSON.stringify(comment)\n    })\n   .then(response => response.json())   \n   .catch(err => {\n     console.log(err);\n   });\n  }\n\n  deleteComment(id){    \n    return fetch(fullPath(`/comments?id=${id}`),{\n      \"method\": \"DELETE\"})\n     .then(response => response.json())\n     .catch(err => {\n       console.log(err);\n     });\n  }\n}","import React from 'react';\nimport Rating from '@material-ui/lab/Rating';\nimport Box from '@material-ui/core/Box';\nimport { Button, TextareaAutosize } from '@material-ui/core';\nimport CommentsApi from '../services/commentsApi';\n\nexport default function AddNewComment(props) {\n  const [value, setValue] = React.useState(5);\n\n  return (\n    <div className='comment_cont'> \n      <h3 style={{textAlign: 'center'}}>New comment</h3>\n      <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\n        <Rating\n          id='new_rating'\n          name=\"simple-controlled\"\n          value={value}\n          onChange={(event, newValue) => {\n            setValue(newValue);\n          }}\n        />\n      </Box> \n      <TextareaAutosize aria-label=\"comment\" \n        style={{width: '70%', margin:'10px'}}\n        rowsMin={3} placeholder=\"comment\" id='new_body'/>\n      <div><Button variant='outlined' color='primary' onClick={() => createNewComment()}>\n        Create comment\n      </Button></div>\n    </div>\n  );\n\n  function createNewComment(){\n    const body = document.getElementById('new_body').value\n    const comment = {\n      product_id: props.product_id,\n      rating: value,\n      body: body\n    }\n    new CommentsApi().createComment(comment).then(\n      (result) => {\n        console.log(result)\n        props.loadProduct()\n      },\n    )\n  }\n}\n","import React from 'react';\nimport Rating from '@material-ui/lab/Rating';\nimport Box from '@material-ui/core/Box';\nimport { Button, TextareaAutosize } from '@material-ui/core';\nimport CommentsApi from '../services/commentsApi';\n\nexport default function EditComment(props) {\n  const [value, setValue] = React.useState(props.comment.rating);\n\n  return (\n    <div className='comment_cont'> \n      <h3 style={{textAlign: 'center'}}>Edit comment</h3>\n      <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\n        <Rating\n          name=\"simple-controlled\"\n          value={value}\n          onChange={(event, newValue) => {\n            setValue(newValue);\n          }}\n        />\n      </Box> \n      <TextareaAutosize aria-label=\"comment\" \n        style={{width: '70%', margin:'10px'}}\n        rowsMin={3} placeholder=\"comment\" id='edit_body'>\n        {props.comment.body}\n        </TextareaAutosize>\n      <div><Button variant='outlined' color='primary' onClick={() => editComment()}>\n        Update comment\n      </Button></div>\n    </div>\n  );\n\n  function editComment(){\n    const body = document.getElementById('edit_body').value\n    const comment = {\n      id: props.comment.id,\n      rating: value,\n      body: body\n    }\n    new CommentsApi().updateComment(comment).then(\n      (result) => {\n        console.log(result)\n        props.loadProduct()\n        props.setEditable(false)\n      },\n    )\n  }\n}\n","import React from 'react';\nimport Rating from '@material-ui/lab/Rating';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport { IconButton, Paper } from '@material-ui/core';\nimport { Delete, Edit } from '@material-ui/icons';\nimport { useAtom } from 'jotai'\nimport { emailAtom } from '../atoms/shopAtoms'\nimport AddNewComment from './addNewComment';\nimport EditComment from './editComment';\nimport CommentsApi from '../services/commentsApi';\n\nexport default function ShowAllComments(props) { \n  const [email] = useAtom(emailAtom) \n  const [editable, setEditable] = React.useState(false);\n  return (\n    <Paper style={{padding: '10px'}}>\n      {props.newComment && <AddNewComment product_id={props.product_id} loadProduct={props.loadProduct}/>}\n      { props.comments.length > 0 && <h3 style={{textAlign: 'center'}}>Comments</h3> }\n      { props.comments.map(c =>                \n        <div key={c.id} className='comment_cont'>      \n          <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">            \n            <Rating name=\"read-only\" value={c.rating} readOnly />\n            <Typography>{c.body}</Typography>\n            <Typography><b style={{fontSize: 'small'}}>{c.email}</b>\n              {renderCommentsButtons(c)}\n            </Typography>\n          </Box> \n      </div> \n      )}    \n    </Paper>\n  );\n  function renderCommentsButtons(comment){\n    if(email === comment.email ){\n      return(\n        <React.Fragment>\n            <IconButton color='primary' onClick={() => setEditable(!editable) }>\n              <Edit fontSize='small'/>\n            </IconButton>\n            <IconButton color='secondary' onClick={() => deleteComment(comment.id) }>\n              <Delete fontSize='small'/>\n            </IconButton>\n            { editable && <EditComment comment={comment} loadProduct={props.loadProduct} setEditable={setEditable} /> }\n        </React.Fragment>\n    )}\n  }\n\n  function deleteComment(id){   \n    new CommentsApi().deleteComment(id).then(\n      (result) => {\n        console.log(result)\n        props.loadProduct()\n      },\n    )\n  }\n}","import React from 'react';\nimport ProductsApi from '../services/productsApi';\nimport {ShoppingCart } from '@material-ui/icons';\nimport {Paper, Grid, IconButton} from '@material-ui/core';\nimport PromotionStepper from './promotionStepper';\nimport cookie from 'react-cookies'\nimport { useAtom } from 'jotai'\nimport {cartAtom} from '../atoms/shopAtoms'\nimport {useEffect, useState} from 'react'\nimport ShowAllComments from './showAllComments';\n\nexport default function ShowProduct(props) {  \n  const [product, setProduct] = useState([])\n  const [comments, setComments] = useState([])\n  const [newComment, setNewComment] = useState([])\n  useEffect(() =>{loadProduct()}, []) \n  const [cart, setCart] = useAtom(cartAtom)\n\n  function loadProduct(){\n    new ProductsApi().getProduct(props.match.params.url_name).then(\n      (result) => {\n        setProduct(result.product);\n        setComments(result.comments);\n        setNewComment(result.new_comment);\n      },\n    )\n  }\n  return(  \n    <div>    \n        <Grid container  style={{paddingTop: '20px'}}>     \n          <Grid item xs={12} sm={2} md={12} lg={2} ></Grid>     \n          <Grid item xs={12} sm={4} md={4} lg={4}>\n          <Paper className='show_product_paper'>\n            <div className='product_show_img show'><img src={product.image} width='200px'/></div>\n            </Paper>\n          </Grid>  \n          <Grid item xs={12} sm={4} md={8} lg={4}>   \n            <Paper className='show_product_paper'>                 \n              <div className='product_show_name show'><b>name: </b> {product.name}</div>                    \n              <div className='product_show_description show'><b>description: </b>{product.description}</div>\n              <div className='product_show_country show'><b>country: </b>{product.country}</div> \n              <div className='product_show_price show' style={{color: 'green'}}><b>price: </b>{product.price} $ </div>\n              <IconButton \n                variant='contained' className='category_btn'\n                style={{color: 'green'}}\n                onClick={()=>{addToCart()}}>                     \n              <ShoppingCart  fontSize='large'/>\n                BUY\n            </IconButton>\n            { addedNumber() }\n            </Paper>                \n          </Grid>                       \n        </Grid>  \n        <Grid container >        \n            <Grid item xs={12} sm={2} md={12} lg={2} ></Grid>\n            <Grid item xs={12} sm={8} md={8} lg={8}>\n              <ShowAllComments loadProduct={ loadProduct } product_id={product.id} comments={comments} newComment={newComment}/>\n            </Grid> \n        </Grid>       \n        <Grid container >        \n            <Grid item xs={12} sm={2} md={12} lg={2} ></Grid>\n            <Grid item xs={12} sm={8} md={8} lg={8}><PromotionStepper/></Grid> \n        </Grid> \n      </div>\n  )\n\n  function addToCart(){\n    let currentCart = JSON.parse(JSON.stringify(cart))\n    if(currentCart[product.id]){\n      currentCart[product.id].count++\n    }\n    else{\n      currentCart[product.id] = { \n        'price': product.price, \n        'count': 1,\n        'name': product.name,\n        'id': product.id\n      }\n    }\n    cookie.save('cart', currentCart, { path: '/' })\n    setCart(currentCart)\n  }\n\n  function addedNumber() {\n    if(cart[product.id]){\n      return `Added to cart ${ cart[product.id].count > 1 ? `x${cart[product.id].count}` : '' }`\n    } else {\n      return '';\n    }\n  }\n}","import './App.css';\nimport { BrowserRouter as Router, Switch,  Route } from \"react-router-dom\";\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Profile from './components/profile';\nimport HomePage from './components/home';\nimport ShowProduct from './components/showProduct';\nimport Order from './components/order';\n\nfunction App() {\n  console.log('v0.0.8')\n \n  return (\n    <div id='main'>      \n      <Router>\n        <Header/>         \n        <Switch>    \n          <Route path=\"/order\" component={Order}/>    \n          <Route path=\"/profile\" component={Profile}/>\n          <Route path=\"/product/:url_name\" component={ShowProduct} />   \n          <Route path=\"/home\" component={HomePage}/>\n          <Route path=\"\" component={HomePage}/>                          \n        </Switch>              \n      </Router>\n    <Footer/>   \n\n  </div>\n  );\n}\n\nexport default App;\n","\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Provider } from 'jotai'\nimport App from \"./App\";\nimport './index.css'\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <Provider>\n    <App />\n  </Provider>,\n  rootElement\n);","export function baseUrl() {\n  return 'http://localhost:3001';\n  //return process.env.NODE_ENV == 'development' ? 'http://localhost:3001' : 'https://super-amazing-shop.herokuapp.com';\n}\n\nexport function fullPath(path) {\n  return `${baseUrl()}${path}`\n}\n"],"sourceRoot":""}